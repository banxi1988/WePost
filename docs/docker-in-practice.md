Docker 实践

- by 代码会说话

## 第一期 初探 Docker

### 基本概念

- 镜像 光盘
- 容器 电影内容
- 镜像仓库

### 常用命令

1. `FROM` 命令语法说明 `[<用户名>/]<仓库名>:<标签>`
   对于 Docker 官方维护镜像来说，用户名省略。

## 第二期 初探 Docker 数据存储

> by 代码会说话

why?
how?

1. 路径绑定
   注意：

- 使用绝对路径。

2. 数据存储卷

不推荐使用 `-v` 的绑定方式。`--mount`

3. 使用已有数据填充空的 数据存储卷

## 第三期 CMD 指令与 ENTRYPOINT 指令 实例详解

1. alpine 极简镜像
2. ENTRYPOINT
3. CMD

## Docker 实践 (4) 容器进程启动的两种模式: `exec` 形式和 `shell` 形式

> by 代码会说话

1. `exec` 模式，不会通过 shell 调用。注意：因此不会替换命令中的 _\$HOME_ 之类的 SHELL 变量。 `~`

2. `shell` 模式，相比 `exec` 模式增加了 `sh -c` 作来启动。这带来的影响的是 容器的信号首先`sh`程序接收了。
   导致进程无法优雅退出。
